<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lib/jquery/jquery-ui-1.8.21.custom.css" />
        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lib/ufd/ufd-base.css" />
        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lib/ufd/plain.css" />
        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lib/dataTables/jquery.dataTables.css" />
        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lib/markitup/skins/markitup/style.css" />

        <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}data_app/css/style.css" />


        <script language="javascript" src="{{ STATIC_URL }}lib/jquery/jquery-1.7.2.min.js" ></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/jquery/jquery-ui-1.8.21.custom.min.js" ></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/ufd/jquery.ui.ufd.js" ></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/dataTables/jquery.dataTables.min.js"></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/dataTables/ColReorder.js"></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/canjs/can.jquery-1.0.7.js"></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/markitup/jquery.markitup.js"></script>
        <script language="javascript" src="{{ STATIC_URL }}lib/json2.js"></script>
        <script language="javascript" src="{{ STATIC_URL }}data_app/js/query.js" ></script>
    </head>

    <body>
        <div id="mainDisplayDiv" style="display:none">
            <div id="andVorDiv"></div>

            <div id="filterDivContainer"></div>

            <div id="buttonDiv" style="margin-top:30px">
                <button type="button" onclick="CourseData.masterDataTable.fnStandingRedraw(); return false;">Recalculate Filters</button>
                <button type="button" id="newFilter">Add New Filter</button>
                <button type="button" id="uploadButton">Upload File</button>
            </div>
            <br />
            <hr />
            <br />
            <div id="visDialogContainer"></div>
            <div id="result">
                <div id="tableDiv">
                    <table id="userTable" cellpadding="0" cellspacing="0" border="0" ></table>
                </div>
            </div>

            <div id="sendEmailDiv">
                <button id="sendEmail" class="jq-button">Send These People E-Mails</button>
                <div id="emailDialog">
                    <div id="emailForm">
                        <div id="emailStatusDiv">
                            <div id="emailSuccess" class="emailStatus" style="display:none">E-Mails Sent Successfully!</div>
                            <div id="emailError" class="emailStatus" style="display:none"></div>
                            <div id="emailPending" class="emailStatus" style="display:none">
                                <img src="/static/data_app/images/loading.gif" height="24" width="24" style="vertical-align:middle" />
                                <span>Sending ...</span></div>
                        </div>

                        <form name="email" action="">
                            <label for="subject">Subject:</label>
                            <input type="text" name="subject" id="subject" value="" size="59" />

                            {% include "data_app/emailHelp.html" %}

                            <textarea rows="10" cols="50" id="body"></textarea>
                        </form>
                    </div>
                </div>
            </div>

            <div id="uploadDiv">
                <form id="uploadForm" action="/data/upload/" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <table>
                        <tr>
                            <td><label for="uLongname">Long Name:</label></td>
                            <td><input type="text" name="longname" id="uLongname" /></td>
                        </tr>
                        <tr>
                            <td><label for="uShortname">Short Name:</label></td>
                            <td><input type="text" name="shortname" id="uShortname" /><br /></td>
                        </tr>
                    </table>
                    <br />
                    <input type="file" name="fileUpload" />
                </form>
            </div>
        </div>

        <div id="pickWorkspaceDialog">
            <div id="pickWorkspaceDiv">
                Please select a workspace:
                <ul class="courseList">
                    {% for workspace in workspaces %}
                        <li class="courseListLi" id="ws-{{workspace.id}}">
                            {{ workspace.name }}
                            <a href="javascript:void(0)" height="16" width="16" onclick="addNewDisplay('{{workspace.id}}'); return false;"><img src="/static/data_app/images/add.png" alt="Add New" /></a>

                            <a href="javascript:void(0)" height="16" width="16" onclick="removeWorkspace('{{workspace.id}}', '{{workspace.name}}'); return false;"><img src="/static/data_app/images/delete.png" alt="Delete Workspace" /></a>

                            <ul class="displayList">
                                {% for display in workspace.displays %}
                                    <li class="displayListLi">
                                        <input class="workspaceRadio" type="radio" name="display" value="{{workspace.id}}--{{ forloop.counter0 }}">{{ display.name }}</input>

                                        <a href="javascript:void(0)" height="16" width="16" onclick="removeDisplay('{{workspace.id}}', {{ forloop.counter0 }}, '{{display.name}}'); return false;"><img src="/static/data_app/images/delete.png" alt="Add New" /></a>

                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endfor %}
                </ul>

                <button id="addCourseButton" onclick="addNewWorkspace()"><img src="/static/data_app/images/add.png" alt="Add New Course" /><span>Add a Course</span></button>
            </div>
        </div>

        <div id="newDisplayDialog" style="display:none">
            Please Enter a Name for this Display: <input type="text" id="newDisplayName" />
        </div>

        <div id="newWorkspaceDialog" style="display:none">
            <div id="workspaceNameDiv" class="workspaceOptionBlock workspaceBorder">
                <label>Workspace Name:</label>
                <input id="workspaceNameInput" type="text" size="38" />
            </div>
            <div id="sectionInputDiv" class="workspaceOptionBlock">
                <label>Section:</label>
                <input class="sectionInput" type="text" size="4" /><span>:</span>
                <input class="sectionInput" type="text" size="1" /><span>:</span>
                <input class="sectionInput" type="text" size="2" /><span>:</span>
                <input class="sectionInput" type="text" size="3" /><span>:</span>
                <input class="sectionInput" type="text" size="3" /><span>:</span>
                <input class="sectionInput" type="text" size="2" /><span>:</span>
            </div>
        </div>

        <div id="sectionSelectionDialog" style="display:none"></div>

        <div id="loadingDialog">
             <img src="/static/data_app/images/loading.gif" height="36" width="36" style="vertical-align:middle" />
             <span id="loadingText">Loading Student Data ...</span>
        </div>

        <div id="confirmDeleteDialog">
            <div id="deleteText"></div>
        </div>
    </body>
</html>